import{r as n,j as s,P as p}from"./index-BVyBSOmJ.js";import{F as e}from"./index.es-BJrB9fUl.js";import{f as E,r as u,w as S,x as z,y as A,z as M}from"./index-CuE17EBt.js";const R=({merchantData:j,onClose:r})=>{const{name:N,rating:l,address:c,phoneNumber:g,averageSpend:i,businessHours:b}=j,o=Math.round(l),w=["星期一","星期二","星期三","星期四","星期五","星期六","星期日"],v="https://www.google.com/maps/search/?api=1&query="+c,y=i-100<0?0:i-100,k=i+100,[C,m]=n.useState(!1),[x,T]=n.useState(!1);n.useEffect(()=>{m(!0)},[]);const d=()=>{T(!0),setTimeout(()=>{m(!1),r&&r()},500)};return s.jsxs("div",{children:[s.jsx("div",{className:`fixed top-0 z-40 min-h-screen min-w-full transition-opacity duration-500 bg-slate-950 bg-opacity-20 ${x?"opacity-0":"opacity-100"}`,onClick:d}),s.jsx("div",{className:`font-notoTC fixed z-50 top-0 left-0 right-0 transition-all duration-500 ${C?"top-[10%]":"top-full"}`,children:s.jsxs("div",{className:`font-notoTC fixed z-50 left-1/2 w-[80%] max-w-sm p-4 bg-white shadow-md rounded-xl mx-auto transition-transform duration-500 ease-out  ${x?"translate-y-[100dvh] none -translate-x-1/2":"translate-y-0 -translate-x-1/2 "}`,children:[s.jsx("div",{className:"absolute top-2 right-2 rounded-lg flex justify-center items-center",children:s.jsx("button",{className:"text-gray-500 hover:text-gray-700 p-2",onClick:d,children:s.jsx(e,{icon:E,className:"w-7 h-7"})})}),s.jsx("h2",{className:"text-2xl font-bold text-black",children:N}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"text-[13px] leading-[15px] text-gray-600 mb-[-1px]",children:l}),s.jsxs("div",{className:"text-yellow-500",children:[[...Array(o)].map((t,a)=>s.jsx(e,{icon:u,className:"inline-block h-4 w-4"},a)),[...Array(5-o)].map((t,a)=>s.jsx(e,{icon:u,className:"inline-block h-4 w-4 text-gray-300"},a))]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("a",{href:v,className:"flex items-center text-blue-600 hover:underline",target:"_blank",rel:"noopener noreferrer",children:[s.jsx(e,{icon:S,className:"w-4 h-4 mr-2"}),c]})}),s.jsxs("div",{className:"mt-2 flex items-center",children:[s.jsx(e,{icon:z,className:"w-4 h-4 mr-2"}),g]}),s.jsx("div",{className:"flex flex-col items-start mt-2 -mb-2",children:s.jsxs("div",{className:"mb-4 flex",children:[s.jsx(e,{icon:A,className:"w-4 h-4 mr-2 mt-2"}),s.jsx("ul",{children:b.map((t,a)=>s.jsxs("li",{className:"text-lg",children:[s.jsx("p",{className:"mr-2",children:w[a]}),t.map((h,f)=>s.jsxs("span",{children:[h.first.substring(0,5)," ~"," ",h.second.substring(0,5),f<t.length-1&&s.jsx("span",{className:"mx-1",children:","})]},f))]},a))})]})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(e,{icon:M,className:"w-4 h-4 mr-2"}),s.jsxs("span",{children:["每人 ",y," ~ ",k," 元"]})]})]})})]})};R.propTypes={merchantData:p.object.isRequired,onClose:p.func.isRequired};export{R as default};
